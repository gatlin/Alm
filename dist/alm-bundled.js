var alm=function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){var r,o;r=[e,n,e(1),e(2),e(1),e(2)],o=function(t,n,e,r,o,i){"use strict";function u(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}function s(t){for(var n={},e=0;e<t.length;e++){var r=t[e];n[r]=new o.Signal(function(t){return new a(t)})}return n}function c(t){var n={outbound:{},inbound:{}};for(var e in t.outbound){var r=t.outbound[e];n.outbound[r]=o.Signal.make()}for(var i in t.inbound){var u=t.inbound[i];n.inbound[u]=o.Signal.make()}return n}u(e),n.el=r.el;var a=function(){function t(t){this.raw=t,this.classes=t.target.className.split(" "),this.id=t.target.id}return t.prototype.hasClass=function(t){return this.classes.indexOf(t)!==-1},t.prototype.getClasses=function(){return this.classes},t.prototype.getId=function(){return this.id},t.prototype.getValue=function(){return this.raw.target.value},t.prototype.getRaw=function(){return this.raw},t}();n.Event=a;var p=["click","dblclick","keyup","keydown","keypress","blur","focusout","input","change","load"],f=function(){function t(t){this.gui="undefined"==typeof t.gui||t.gui,this.eventRoot="string"==typeof t.eventRoot?document.getElementById(t.eventRoot):"undefined"==typeof t.eventRoot?document:t.eventRoot,this.domRoot="string"==typeof t.domRoot?document.getElementById(t.domRoot):"undefined"==typeof t.domRoot?document.body:t.domRoot;var n=p.concat("undefined"!=typeof t.extraEvents?t.extraEvents:[]);this.events=s(n),this.ports="undefined"!=typeof t.ports?c(t.ports):{outbound:null,inbound:null},this.main=t.main}return t.prototype.registerEvent=function(t,n){var e=function(t){return n.send(t)};this.eventRoot.addEventListener(t,e,!0)},t.prototype.start=function(){console.log("[App] ports =",this.ports);var t=this.main({events:this.events,ports:this.ports});for(var n in this.events){var e=this.events[n];e.numListeners()>0&&this.registerEvent(n,e)}return this.gui&&i.render(t,this.domRoot),{ports:this.ports}},t}();n.App=f}.apply(n,r),!(void 0!==o&&(t.exports=o))},function(t,n,e){var r,o,i=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)};r=[e,n],o=function(t,n){"use strict";function e(t,n){n.forEach(function(n){Object.getOwnPropertyNames(n.prototype).forEach(function(e){t.prototype[e]=n.prototype[e]})})}function r(t){setTimeout(t,0)}n.derive=e;var o=function(){function t(){}return t.pipe=function(t){for(var n=t[0],e=1;e<t.length;e++)n=n.flatMap(t[e]);return n},t.prototype.flatMap=function(t){return this.map(t).flatten()},t.prototype.pipe=function(t){for(var n=this,e=0;e<t.length;e++)n=n.flatMap(t[e]);return n},t}();n.FlatMap=o,n.async=r;var u=function(){function t(t){this.fn=t,this.listeners=[]}return t.prototype.connect=function(t){return this.listeners.push(t),t},t.prototype.send=function(t){var n=this.fn(t);if("undefined"!=typeof n)for(var e=0;e<this.listeners.length;e++){var r=this.listeners[e];r.send(n)}},t.make=function(){return new t(function(t){return t})},t.prototype.recv=function(n){this.connect(new t(function(t){return n(t)}))},t.prototype.filter=function(n){var e=new t(function(t){if(n(t))return t});return this.connect(e)},t.prototype.reduce=function(n,e){var r=n,o=new t(function(t){return r=e(t,r)});return this.connect(o)},t.prototype.map=function(n){return this.connect(new t(function(t){return n(t)}))},t.prototype.done=function(){return this},t.prototype.numListeners=function(){return this.listeners.length},t}();n.Signal=u;var s=function(t){function n(){t.call(this,function(t){return t}),this.value=null}return i(n,t),n.of=function(t){var e=new n;return e.send(t),e},n.pipe=function(t){return o.pipe(t)},n.prototype.recv=function(n){var e=this;return null!==this.value?r(function(){return n(e.value)}):t.prototype.recv.call(this,n),this},n.prototype.send=function(n){null===this.value&&(this.value=n,t.prototype.send.call(this,n),this.listeners=[])},n.prototype.map=function(t){var e=new n;return this.recv(function(n){return e.send(t(n))}),e},n.prototype.flatten=function(){var t=new n;return this.recv(function(n){n.recv(function(n){t.send(n)})}),t},n.prototype.flatMap=function(t){return null},n.prototype.pipe=function(t){return null},n}(u);n.Async=s,e(s,[o]);var c=function(t){function n(n){t.call(this,function(t){return t}),this.send(n)}return i(n,t),n.prototype.send=function(n){var e=this;r(function(){t.prototype.send.call(e,n)})},n.prototype.recv=function(n){t.prototype.recv.call(this,n)},n}(u);n.Mailbox=c}.apply(n,r),!(void 0!==o&&(t.exports=o))},function(t,n,e){var r,o;r=[e,n],o=function(t,n){"use strict";function e(t,n,r){if("undefined"==typeof n||null===n)return void(r&&r.parentNode.removeChild(r));if("undefined"==typeof t||null===t)return void r.appendChild(u.makeDOMNode(n));if(n.treeType===i.Node)if(t.treeType===i.Node)if(t.content.tag===n.content.tag){for(var o in n.content.attrs)r[o]=n.content.attrs[o],r.setAttribute(o,n.content.attrs[o]);for(var o in t.content.attrs)o in n.content.attrs||r.removeAttribute(o);for(var s=t.children.length,c=n.children.length,a=s>c?s:c,p=new Array,f=0;f<a;f++)p.push(r.childNodes[f]);for(var f=0;f<a;f++){var l=t.children[f],d=n.children[f];l?e(l,d,p[f]):e(null,d,r)}}else{var h=r.parentNode;h.insertBefore(u.makeDOMNode(n),r),h.removeChild(r)}else{var h=r.parentNode;h.insertBefore(u.makeDOMNode(n),r),h.removeChild(r)}else{var h=r.parentNode;h.insertBefore(u.makeDOMNode(n),r),h.removeChild(r)}}function r(t,n){t.reduce(null,function(t,r){return null===r?u.initialDOM(t,n):e(r,t,n.firstChild),t}).done()}function o(t,n,e){var r="undefined"==typeof e?[]:e.map(function(t){return"string"==typeof t?new u(t,[],i.Text):t});return new u({tag:t,attrs:n},r,i.Node)}var i;!function(t){t[t.Text=0]="Text",t[t.Node=1]="Node"}(i||(i={}));var u=function(){function t(t,n,e){this.content=t,this.children=n,this.treeType=e,this.mailbox=null,e===i.Text?this.key=this.content:"undefined"!=typeof this.content.attrs.id?this.key=this.content.attrs.id:this.key=null}return t.prototype.subscribe=function(t){return this.mailbox=t,this},t.prototype.keyEq=function(t){var n=this;return null!==n.key&&null!==t.key&&n.key===t.key},t.makeDOMNode=function(n){if(null===n)return null;if(n.treeType===i.Text)return document.createTextNode(n.content);var e=document.createElement(n.content.tag);for(var r in n.content.attrs)e.setAttribute(r,n.content.attrs[r]);for(var o=0;o<n.children.length;o++){var u=t.makeDOMNode(n.children[o]);e.appendChild(u)}return null!==n.mailbox&&n.mailbox.send(e),e},t.initialDOM=function(n,e){for(var r=e,o=t.makeDOMNode(n);r.firstChild;)r.removeChild(r.firstChild);r.appendChild(o)},t}();n.VTree=u,n.render=r,n.el=o}.apply(n,r),!(void 0!==o&&(t.exports=o))}]);