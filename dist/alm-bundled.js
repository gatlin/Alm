var alm=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r,o;r=[n,e,n(1),n(2),n(1),n(2)],o=function(t,e,n,r,o,i){"use strict";function s(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function u(t){for(var e={},n=0;n<t.length;n++){var r=t[n];e[r]=new o.Signal(function(t){return new a(t)})}return e}function c(t){if(Array.isArray(t)){for(var e={},n=0;n<t.length;n++){var r=t[n];e[r]=o.Signal.make()}return e}var i="undefined"==typeof t||null===t?{outbound:[],inbound:[]}:t;for(var s in i){for(var u=i[s],c={},n=0;n<u.length;n++){var r=u[n];c[r]=o.Signal.make()}i[s]=c}return i}s(n),e.el=r.el;var a=function(){function t(t){this.raw=t,this.classes=t.target.className.trim().split(/\s+/g)||[],this.id=t.target.id}return t.prototype.hasClass=function(t){return this.classes.indexOf(t)!==-1},t.prototype.getClasses=function(){return this.classes},t.prototype.getId=function(){return this.id},t.prototype.getValue=function(){return this.raw.target.value},t.prototype.getRaw=function(){return this.raw},t.prototype.class_in_ancestry=function(t){for(var e=null,n=!1,r=this.raw.target;!n;){if(!r.className){n=!0;break}var o=r.className.trim().split(/\s+/g)||[];o.indexOf(t)!==-1?(e=r,n=!0):r.parentNode?r=r.parentNode:n=!0}return e},t}();e.AlmEvent=a;var f=["click","dblclick","keyup","keydown","keypress","blur","focusout","input","change","load"],l=function(){function t(t){this.state=t.state,this.gui="undefined"==typeof t.gui||t.gui,this.eventRoot="string"==typeof t.eventRoot?document.getElementById(t.eventRoot):"undefined"==typeof t.eventRoot?document:t.eventRoot,this.domRoot="string"==typeof t.domRoot?document.getElementById(t.domRoot):"undefined"==typeof t.domRoot?document.body:t.domRoot;var e=f.concat("undefined"!=typeof t.extraEvents?t.extraEvents:[]);this.events=u(e),this.ports=c(t.ports);var n=new o.Mailbox(null),r=n.reduce(t.state,function(e,n){return null!==e?t.update(e,n):n});this.scope=Object.seal({events:this.events,ports:this.ports,actions:n,state:r,mailbox:function(t){return new o.Mailbox(t)}}),t.main(this.scope),this.render=this.gui?t.render:null}return t.prototype.registerEvent=function(t,e){var n=function(t){return e.send(t)};this.eventRoot.addEventListener(t,n,!0)},t.prototype.editScope=function(t){return t(this.scope),this},t.prototype.setEventRoot=function(t){return this.eventRoot="string"==typeof t?document.getElementById(t):t,this},t.prototype.setDomRoot=function(t){return this.domRoot="string"==typeof t?document.getElementById(t):t,this},t.prototype.start=function(){for(var t in this.events){var e=this.events[t];e.numListeners()>0&&this.registerEvent(t,e)}if(this.gui){var n=this.scope.state.map(this.render);i.render(n,this.domRoot)}return{ports:this.scope.ports,state:this.scope.state}},t}();e.App=l}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};r=[n,e],o=function(t,e){"use strict";function n(t){setTimeout(t,0)}e.async=n;var r=function(){function t(t){this.fn=t,this.listeners=[]}return t.prototype.connect=function(t){return this.listeners.push(t),t},t.make=function(){return new t(function(t){return t})},t.reduce=function(e,n){var r=e,o=new t(function(t){return r=n(t,r)});return o},t.prototype.send=function(t){var e=this.fn(t);if("undefined"!=typeof e)for(var n=0;n<this.listeners.length;n++){var r=this.listeners[n];r.send(e)}},t.prototype.recv=function(e){this.connect(new t(function(t){return e(t)}))},t.prototype.map=function(e){var n=new t(e);return this.connect(n)},t.prototype.filter=function(e){var n=new t(function(t){if(e(t))return t});return this.connect(n)},t.prototype.reduce=function(e,n){var r=t.reduce(e,n);return this.connect(r)},t.prototype.numListeners=function(){return this.listeners.length},t}();e.Signal=r;var o=function(t){function e(e){var n=t.call(this,function(t){return t})||this;return"undefined"!=typeof e&&n.send(e),n}return i(e,t),e.prototype.send=function(e){var r=this;n(function(){t.prototype.send.call(r,e)})},e.prototype.recv=function(e){t.prototype.recv.call(this,e)},e.prototype.subscribe=function(t){return t.connect(this),this},e.prototype.dispatch=function(t){return this.connect(t),this},e}(r);e.Mailbox=o}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){var r,o;r=[n,e],o=function(t,e){"use strict";function n(t,e,n){var r="undefined"==typeof n?[]:n.map(function(t,e){return"string"==typeof t?new a(t,[],c.Text):t});return new a({tag:t,attrs:e},r,c.Node)}function r(t){if(null===t)return null;if(t.treeType===c.Text)return document.createTextNode(t.content);var e=document.createElement(t.content.tag);for(var n in t.content.attrs)e.setAttribute(n,t.content.attrs[n]);for(var o=0;o<t.children.length;o++){var i=r(t.children[o]);e.appendChild(i)}return null!==t.mailbox&&t.mailbox.send(e),e}function o(t,e){for(var n=t,o=r(e);n.firstChild;)n.removeChild(n.firstChild);n.appendChild(o)}function i(t,e,n){if(!t.length)return e.map(function(t){return[f.Insert,null,t]});if(!e.length)return t.map(function(t){return[f.Delete,t,null]});for(var r=t.length+1,o=e.length+1,i=new Array(r*o),s=[],u=0;u<r;u++)i[u*o]=u;for(var c=0;c<o;c++)i[c]=c;for(var a=1;a<o;a++)for(var l=1;l<r;l++)n(t[l-1],e[a-1])?i[l*o+a]=i[(l-1)*o+(a-1)]:i[l*o+a]=Math.min(i[(l-1)*o+a],i[l*o+(a-1)])+1;for(var p=r-1,d=o-1;0!==p||0!==d;)n(t[p-1],e[d-1])?(p--,d--,s.unshift([f.Merge,t[p],e[d]])):i[p*o+(d-1)]<=i[(p-1)*o+d]?(d--,s.unshift([f.Insert,null,e[d]])):(p--,s.unshift([f.Delete,t[p],null]));return s}function s(t,e,n,o){if(void 0===o&&(o=0),"undefined"==typeof n||null===n)return void t.removeChild(t.childNodes[o]);if("undefined"==typeof e||null===e)return void t.insertBefore(r(n),t.childNodes[o]);if(n.treeType===c.Node){if(e.treeType===c.Node&&e.content.tag===n.content.tag){var u=t.childNodes[o];for(var a in e.content.attrs)a in n.content.attrs||(u.removeAttribute(a),delete u[a]);for(var a in n.content.attrs){var l=n.content.attrs[a];a in e.content.attrs&&l===e.content.attrs[a]||(u[a]=l,u.setAttribute(a,l))}for(var p=i(e.children,n.children,function(t,e){return"undefined"!=typeof t&&t.eq(e)}),d=0,h=0;h<p.length;h++){var v=p[h];s(t.childNodes[o],v[1],v[2],d),v[0]!==f.Delete&&d++}}}else t.replaceChild(r(n),t.childNodes[o])}function u(t,e){t.reduce(null,function(t,n){return null===n?o(e,t):s(e,n,t),t})}e.el=n;var c;!function(t){t[t.Text=0]="Text",t[t.Node=1]="Node"}(c||(c={}));var a=function(){function t(t,e,n){this.content=t,this.children=e,this.treeType=n,this.mailbox=null,n===c.Node?"key"in this.content.attrs?(this.key=this.content.attrs.key,delete this.content.attrs.key):"id"in this.content.attrs?this.key=this.content.attrs.id:this.key=this.content.tag:this.key="text-node"}return t.prototype.subscribe=function(t){return this.mailbox=t,this},t.prototype.eq=function(t){return!!t&&this.key===t.key},t}();e.VTree=a;var f;!function(t){t[t.Merge=0]="Merge",t[t.Delete=1]="Delete",t[t.Insert=2]="Insert"}(f||(f={})),e.diff_array=i,e.diff_dom=s,e.render=u}.apply(e,r),!(void 0!==o&&(t.exports=o))}]);